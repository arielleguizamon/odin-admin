<header-home></header-home>
<div class="content-wrapper">
    <breadcrumbs data-type="{{ 'ADD' | translate }}" data-model-name="{{ 'CHARTS' | translate }}" data-model="{{type}}"></breadcrumbs>
    <!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">{{ 'ADD' | translate }} {{ 'CHARTS' | translate }}</h3>
                    </div>
                    <!--<form autocomplete="off" class="form-horizontal" name="form"  autocomplete="false"  role="form" ng-submit="add(form.$valid)" novalidate>
                        <div class="box-body" ng-include="'views/map/_form.html'"></div>
                    </form>-->
                    <div class="row">
                        <div class="col-xs-12">

                            <ul class="steps">
                                <li ng-class="step(0)" ng-click="checkstep(0)" class=" col-xs-4">
                                    <p>{{ 'DATA_OF_CHART' | translate }}</p>
                                </li>
                                <li ng-class="step(1)" ng-click="checkstep(1)" class=" col-xs-4">
                                    <p>{{ 'SELECT_FIELDS' | translate }}</p>
                                </li>
                                <li ng-class="step(2)" ng-click="checkstep(2)" class=" col-xs-4">
                                    <p>{{ 'REVISION' | translate }}</p>
                                </li>
                            </ul>

                        </div>
                    </div>
                    <div class="row" ng-show="stepactive == 0">
                        <div class="col-xs-12">
                            <form autocomplete="off" class="form-horizontal" name="form" autocomplete="false" role="form" ng-submit="add(form.$valid)" novalidate>
                                <div class="box-body" ng-include="'views/chart/_form_step1.html'"></div>

                            </form>
                        </div>
                    </div>
                    <div class="row" ng-show="stepactive == 1">
                        <div class="col-xs-12">
                            <form autocomplete="off" enctype="multipart/form-data" class="form-horizontal" name="form" autocomplete="false" role="form" ng-submit="add(form.$valid)" novalidate>
                                <div class="box-body" ng-include="'views/chart/_form_step2.html'"></div>
                            </form>
                        </div>
                    </div>
                    <div class="row" ng-show="stepactive == 2">
                        <div class="col-md-12">
                            <div class="box box-primary">
                                <div class="box-header with-border">
                                    <h3 class="box-title">{{ 'DETAILS_FOR' | translate }}</h3>
                                </div>
                                <div class="box-body table-responsive no-padding">
                                    <table class="table usertable">
                                        <tr ng-if="model.name">
                                            <td>{{ 'NAME' | translate }}</td>
                                            <td>{{model.name}}</td>
                                        </tr>
                                        <tr ng-if="model.description">
                                            <td>{{ 'DESCRIPTION' | translate }}</td>
                                            <td ng-bind-html="getHtml(model.description)"></td>
                                        </tr>
                                        <tr ng-if="model.notes">
                                            <td>{{ 'NOTES' | translate }}</td>
                                            <td ng-bind-html="getHtml(model.notes)"></td>
                                        </tr>
                                        <tr ng-if="model.type">
                                            <td>{{ 'CHART_TYPE' | translate }}</td>
                                            <td ng-bind-html="getHtml(model.type)"></td>
                                        </tr>
                                        <tr ng-if="model.link">
                                            <td>{{ 'URL' | translate }}</td>
                                            <td><a target="_blank" ng-href="{{model.link}}">{{model.link}}</a></td>
                                        </tr>
                                    </table>
                                </div>
                                <!-- /.box-body -->
                            </div>

                        </div>
                    </div>
                    <div class="box-footer">
                        <button class="btn btn-default pull-left" back-button ng-if="stepactive == 0">
                            {{ 'BACK' | translate }}
                        </button>
                        <button class="btn btn-default pull-left" ng-click="checkstep(stepactive - 1)" ng-if="stepactive != 0">
                            {{ 'BACK' | translate }}
                        </button>
                        <button ng-if="stepactive != 2" type="submit" class="btn btn-primary pull-right" ng-click="checkstep(stepactive + 1)" ng-disabled="(form.$invalid && stepactive == 1) || (stepactive == 2)">{{ 'NEXT' | translate }}</button>
                        <button ng-if="stepactive == 2" type="submit" class="btn btn-primary pull-right" ng-click="add(model)">{{ 'SAVE' | translate }}</button>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--  Main content-->
</div>
<footer-home></footer-home>
